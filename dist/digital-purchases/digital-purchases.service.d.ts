import { PrismaService } from '../prisma/prisma.service';
import { CreateDigitalPurchaseDto } from './dto/create-purchase.dto';
export declare class DigitalPurchasesService {
    private prisma;
    constructor(prisma: PrismaService);
    createPurchase(buyerId: string, buyerType: 'PARENT' | 'STUDENT', dto: CreateDigitalPurchaseDto): Promise<any>;
    getStudentLibrary(studentId: string): Promise<({
        [x: string]: never;
        [x: number]: never;
        [x: symbol]: never;
    } & {
        id: string;
        status: import(".prisma/client").$Enums.PurchaseStatus;
        completedAt: Date | null;
        studentId: string;
        currency: string;
        contentId: string;
        creatorId: string;
        downloadCount: number;
        streamCount: number;
        marketplaceItemId: string;
        paymentReference: string | null;
        paymentMethod: string | null;
        giftMessage: string | null;
        buyerId: string;
        buyerType: import(".prisma/client").$Enums.BuyerType;
        amount: number;
        lastDownloadedAt: Date | null;
        lastStreamedAt: Date | null;
        purchasedAt: Date;
    })[]>;
    getParentPurchases(parentUserId: string): Promise<({
        student: {
            user: {
                email: string;
                firstName: string;
                lastName: string;
                id: string;
            };
        } & {
            id: string;
            gender: import(".prisma/client").$Enums.Gender;
            userId: string;
            schoolId: string;
            status: import(".prisma/client").$Enums.StudentStatus;
            dateOfBirth: Date;
            academicYear: string;
            studentNumber: string;
            currentLevelId: string;
            currentClassId: string;
            enrollmentDate: Date;
            graduationDate: Date | null;
            transferDate: Date | null;
            transferSchool: string | null;
            suspensionStartDate: Date | null;
            suspensionEndDate: Date | null;
            suspensionReason: string | null;
            nationality: string;
            religion: string | null;
            bloodGroup: string | null;
            specialNeeds: string | null;
            learningStyle: string | null;
            extraCurricularActivities: string[];
            allergies: string[];
            medications: string[];
            bloodGroupHealth: string | null;
            height: number | null;
            weight: number | null;
            visionIssues: boolean;
            hearingIssues: boolean;
            mobilityIssues: boolean;
            dietaryRestrictions: string[];
            fatherName: string | null;
            fatherOccupation: string | null;
            fatherPhone: string | null;
            fatherEmail: string | null;
            motherName: string | null;
            motherOccupation: string | null;
            motherPhone: string | null;
            motherEmail: string | null;
            guardianName: string | null;
            guardianRelationship: string | null;
            guardianPhone: string | null;
            guardianEmail: string | null;
            familyIncome: string | null;
            familySize: number | null;
            lastModified: Date;
            modifiedBy: string;
            notes: string | null;
        };
        creator: {
            user: {
                type: import(".prisma/client").$Enums.UserType;
                email: string;
                password: string;
                firstName: string;
                lastName: string;
                profilePicture: string | null;
                phone: string | null;
                isActive: boolean;
                id: string;
                createdAt: Date;
                updatedAt: Date;
                createdBy: string | null;
                lastLoginAt: Date | null;
                fullName: string | null;
                bio: string | null;
                country: string | null;
                website: string | null;
                isEmailVerified: boolean;
            };
        } & {
            isActive: boolean;
            id: string;
            categories: string[];
            plan: string;
            userId: string;
            verified: boolean;
            rating: number;
            totalProducts: number;
            totalSales: number;
            totalRevenue: number;
            joinDate: Date;
            specialties: string[];
        };
        marketplaceItem: {
            description: string;
            title: string;
            isActive: boolean;
            id: string;
            rating: number;
            totalSales: number;
            totalRevenue: number;
            tags: string[];
            currency: string;
            contentId: string | null;
            creatorId: string;
            thumbnailUrl: string | null;
            price: number;
            category: import(".prisma/client").$Enums.MarketplaceCategory;
            totalRatings: number;
            previewUrl: string | null;
            dateCreated: Date;
            lastUpdated: Date;
            isFeatured: boolean;
            isRecommended: boolean;
            commissionRate: number;
        };
        content: {
            contentCategory: {
                description: string | null;
                id: string;
                createdAt: Date;
                updatedAt: Date;
                name: string;
            } | null;
            files: {
                id: string;
                videoDuration: number | null;
                contentId: string;
                fileType: import(".prisma/client").$Enums.FileType;
                originalName: string;
                storagePath: string;
                mimeType: string | null;
                sizeBytes: bigint | null;
                uploadedAt: Date;
                imageKitFileId: string | null;
                imageKitUrl: string | null;
                isProcessed: boolean;
                thumbnailUrl: string | null;
            }[];
        } & {
            description: string;
            title: string;
            id: string;
            createdAt: Date;
            updatedAt: Date;
            tags: import("@prisma/client/runtime/library").JsonValue | null;
            status: import(".prisma/client").$Enums.ContentStatus;
            contentCategoryId: string | null;
            subjectCategoryId: string | null;
            contentType: import(".prisma/client").$Enums.ContentType;
            textbookAuthor: string | null;
            textbookPublisher: string | null;
            textbookEdition: string | null;
            textbookYear: number | null;
            textbookIsbn: string | null;
            digitalDeliveryMethod: string | null;
            accessInstructions: string | null;
            fileSizeFormat: string | null;
            supportContact: string | null;
            videoDuration: string | null;
            videoDeliveryMethod: string | null;
            worksheetGrade: string | null;
            worksheetFormat: string | null;
            assignmentGrade: string | null;
            assignmentFormat: string | null;
            assignmentLength: string | null;
            examBody: string | null;
            examYears: string | null;
            examLevel: string | null;
            pastQuestionsFormat: string | null;
            pastQuestionsPages: string | null;
            audiobookAuthor: string | null;
            audiobookNarrator: string | null;
            audiobookDuration: string | null;
            audiobookLanguage: string | null;
            audiobookFormat: string | null;
            interactiveFormat: string | null;
            interactiveLevel: string | null;
            interactiveDuration: string | null;
            interactiveLink: string | null;
            notesLevel: string | null;
            notesFormat: string | null;
            notesLength: string | null;
            ebookAuthor: string | null;
            ebookFileFormat: string | null;
            ebookLicenseType: string | null;
            ebookAccessType: string | null;
            ebookLanguage: string | null;
            ebookPages: string | null;
            digitalPrice: number | null;
            textbookPrice: number | null;
            videoPrice: number | null;
            worksheetPrice: number | null;
            assignmentPrice: number | null;
            pastQuestionsPrice: number | null;
            audiobookPrice: number | null;
            interactivePrice: number | null;
            notesPrice: number | null;
            ebookPrice: number | null;
            currency: string;
            licenseType: import(".prisma/client").$Enums.LicenseType;
            visibility: import(".prisma/client").$Enums.Visibility;
            creatorId: string;
            contactInfo: string | null;
            viewCount: number;
            downloadCount: number;
            streamCount: number;
            salesCount: number;
            ratingAverage: number;
            reviewCount: number;
            marketplacePublishedAt: Date | null;
            marketplaceUnpublishedAt: Date | null;
        };
    } & {
        id: string;
        status: import(".prisma/client").$Enums.PurchaseStatus;
        completedAt: Date | null;
        studentId: string;
        currency: string;
        contentId: string;
        creatorId: string;
        downloadCount: number;
        streamCount: number;
        marketplaceItemId: string;
        paymentReference: string | null;
        paymentMethod: string | null;
        giftMessage: string | null;
        buyerId: string;
        buyerType: import(".prisma/client").$Enums.BuyerType;
        amount: number;
        lastDownloadedAt: Date | null;
        lastStreamedAt: Date | null;
        purchasedAt: Date;
    })[]>;
    getDownloadLink(purchaseId: string, studentId: string): Promise<{
        content: {
            files: {
                id: string;
                videoDuration: number | null;
                contentId: string;
                fileType: import(".prisma/client").$Enums.FileType;
                originalName: string;
                storagePath: string;
                mimeType: string | null;
                sizeBytes: bigint | null;
                uploadedAt: Date;
                imageKitFileId: string | null;
                imageKitUrl: string | null;
                isProcessed: boolean;
                thumbnailUrl: string | null;
            }[];
        } & {
            description: string;
            title: string;
            id: string;
            createdAt: Date;
            updatedAt: Date;
            tags: import("@prisma/client/runtime/library").JsonValue | null;
            status: import(".prisma/client").$Enums.ContentStatus;
            contentCategoryId: string | null;
            subjectCategoryId: string | null;
            contentType: import(".prisma/client").$Enums.ContentType;
            textbookAuthor: string | null;
            textbookPublisher: string | null;
            textbookEdition: string | null;
            textbookYear: number | null;
            textbookIsbn: string | null;
            digitalDeliveryMethod: string | null;
            accessInstructions: string | null;
            fileSizeFormat: string | null;
            supportContact: string | null;
            videoDuration: string | null;
            videoDeliveryMethod: string | null;
            worksheetGrade: string | null;
            worksheetFormat: string | null;
            assignmentGrade: string | null;
            assignmentFormat: string | null;
            assignmentLength: string | null;
            examBody: string | null;
            examYears: string | null;
            examLevel: string | null;
            pastQuestionsFormat: string | null;
            pastQuestionsPages: string | null;
            audiobookAuthor: string | null;
            audiobookNarrator: string | null;
            audiobookDuration: string | null;
            audiobookLanguage: string | null;
            audiobookFormat: string | null;
            interactiveFormat: string | null;
            interactiveLevel: string | null;
            interactiveDuration: string | null;
            interactiveLink: string | null;
            notesLevel: string | null;
            notesFormat: string | null;
            notesLength: string | null;
            ebookAuthor: string | null;
            ebookFileFormat: string | null;
            ebookLicenseType: string | null;
            ebookAccessType: string | null;
            ebookLanguage: string | null;
            ebookPages: string | null;
            digitalPrice: number | null;
            textbookPrice: number | null;
            videoPrice: number | null;
            worksheetPrice: number | null;
            assignmentPrice: number | null;
            pastQuestionsPrice: number | null;
            audiobookPrice: number | null;
            interactivePrice: number | null;
            notesPrice: number | null;
            ebookPrice: number | null;
            currency: string;
            licenseType: import(".prisma/client").$Enums.LicenseType;
            visibility: import(".prisma/client").$Enums.Visibility;
            creatorId: string;
            contactInfo: string | null;
            viewCount: number;
            downloadCount: number;
            streamCount: number;
            salesCount: number;
            ratingAverage: number;
            reviewCount: number;
            marketplacePublishedAt: Date | null;
            marketplaceUnpublishedAt: Date | null;
        };
    } & {
        id: string;
        status: import(".prisma/client").$Enums.PurchaseStatus;
        completedAt: Date | null;
        studentId: string;
        currency: string;
        contentId: string;
        creatorId: string;
        downloadCount: number;
        streamCount: number;
        marketplaceItemId: string;
        paymentReference: string | null;
        paymentMethod: string | null;
        giftMessage: string | null;
        buyerId: string;
        buyerType: import(".prisma/client").$Enums.BuyerType;
        amount: number;
        lastDownloadedAt: Date | null;
        lastStreamedAt: Date | null;
        purchasedAt: Date;
    }>;
    getStreamLink(purchaseId: string, studentId: string): Promise<{
        content: {
            files: {
                id: string;
                videoDuration: number | null;
                contentId: string;
                fileType: import(".prisma/client").$Enums.FileType;
                originalName: string;
                storagePath: string;
                mimeType: string | null;
                sizeBytes: bigint | null;
                uploadedAt: Date;
                imageKitFileId: string | null;
                imageKitUrl: string | null;
                isProcessed: boolean;
                thumbnailUrl: string | null;
            }[];
        } & {
            description: string;
            title: string;
            id: string;
            createdAt: Date;
            updatedAt: Date;
            tags: import("@prisma/client/runtime/library").JsonValue | null;
            status: import(".prisma/client").$Enums.ContentStatus;
            contentCategoryId: string | null;
            subjectCategoryId: string | null;
            contentType: import(".prisma/client").$Enums.ContentType;
            textbookAuthor: string | null;
            textbookPublisher: string | null;
            textbookEdition: string | null;
            textbookYear: number | null;
            textbookIsbn: string | null;
            digitalDeliveryMethod: string | null;
            accessInstructions: string | null;
            fileSizeFormat: string | null;
            supportContact: string | null;
            videoDuration: string | null;
            videoDeliveryMethod: string | null;
            worksheetGrade: string | null;
            worksheetFormat: string | null;
            assignmentGrade: string | null;
            assignmentFormat: string | null;
            assignmentLength: string | null;
            examBody: string | null;
            examYears: string | null;
            examLevel: string | null;
            pastQuestionsFormat: string | null;
            pastQuestionsPages: string | null;
            audiobookAuthor: string | null;
            audiobookNarrator: string | null;
            audiobookDuration: string | null;
            audiobookLanguage: string | null;
            audiobookFormat: string | null;
            interactiveFormat: string | null;
            interactiveLevel: string | null;
            interactiveDuration: string | null;
            interactiveLink: string | null;
            notesLevel: string | null;
            notesFormat: string | null;
            notesLength: string | null;
            ebookAuthor: string | null;
            ebookFileFormat: string | null;
            ebookLicenseType: string | null;
            ebookAccessType: string | null;
            ebookLanguage: string | null;
            ebookPages: string | null;
            digitalPrice: number | null;
            textbookPrice: number | null;
            videoPrice: number | null;
            worksheetPrice: number | null;
            assignmentPrice: number | null;
            pastQuestionsPrice: number | null;
            audiobookPrice: number | null;
            interactivePrice: number | null;
            notesPrice: number | null;
            ebookPrice: number | null;
            currency: string;
            licenseType: import(".prisma/client").$Enums.LicenseType;
            visibility: import(".prisma/client").$Enums.Visibility;
            creatorId: string;
            contactInfo: string | null;
            viewCount: number;
            downloadCount: number;
            streamCount: number;
            salesCount: number;
            ratingAverage: number;
            reviewCount: number;
            marketplacePublishedAt: Date | null;
            marketplaceUnpublishedAt: Date | null;
        };
    } & {
        id: string;
        status: import(".prisma/client").$Enums.PurchaseStatus;
        completedAt: Date | null;
        studentId: string;
        currency: string;
        contentId: string;
        creatorId: string;
        downloadCount: number;
        streamCount: number;
        marketplaceItemId: string;
        paymentReference: string | null;
        paymentMethod: string | null;
        giftMessage: string | null;
        buyerId: string;
        buyerType: import(".prisma/client").$Enums.BuyerType;
        amount: number;
        lastDownloadedAt: Date | null;
        lastStreamedAt: Date | null;
        purchasedAt: Date;
    }>;
    hasAccess(studentId: string, contentId: string): Promise<boolean>;
}
